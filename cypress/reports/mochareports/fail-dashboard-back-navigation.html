<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:2,&quot;tests&quot;:9,&quot;passes&quot;:8,&quot;pending&quot;:0,&quot;failures&quot;:1,&quot;start&quot;:&quot;2024-09-02T13:18:49.383Z&quot;,&quot;end&quot;:&quot;2024-09-02T13:19:16.363Z&quot;,&quot;duration&quot;:26980,&quot;testsRegistered&quot;:10,&quot;passPercent&quot;:80,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:1,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;e0fdfb15-b6c2-40a2-89e3-ef4f8b834be4&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;e2e/test/scenarios/dashboard/dashboard-back-navigation.cy.spec.js&quot;,&quot;file&quot;:&quot;e2e/test/scenarios/dashboard/dashboard-back-navigation.cy.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;title&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should display a back to the dashboard button when navigating to a question&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should display a back to the dashboard button when navigating to a question&quot;,&quot;duration&quot;:5067,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const dashboardName = \&quot;Orders in a dashboard\&quot;;\nconst backButtonLabel = `Back to ${dashboardName}`;\nvisitDashboard(ORDERS_DASHBOARD_ID);\ncy.wait(\&quot;@dashboard\&quot;);\ncy.findByTestId(\&quot;dashcard\&quot;).findByText(\&quot;Orders\&quot;).click();\ncy.wait(\&quot;@cardQuery\&quot;);\ncy.findByLabelText(backButtonLabel).should(\&quot;be.visible\&quot;);\nopenNotebook();\nsummarize({ mode: \&quot;notebook\&quot; });\npopover().findByText(\&quot;Count of rows\&quot;).click();\ncy.findByLabelText(backButtonLabel).should(\&quot;be.visible\&quot;);\nvisualize();\ncy.findByLabelText(backButtonLabel).click();\nmodal().button(\&quot;Discard changes\&quot;).click();\ncy.findByTestId(\&quot;dashboard-header\&quot;).findByText(dashboardName).should(\&quot;be.visible\&quot;);\ngetDashboardCard().realHover();\ngetDashboardCardMenu().click();\npopover().findByText(\&quot;Edit question\&quot;).click();\ncy.findByLabelText(backButtonLabel).click();\ncy.findByTestId(\&quot;dashboard-header\&quot;).findByText(dashboardName).should(\&quot;be.visible\&quot;);\nappBar().findByText(\&quot;Our analytics\&quot;).click();\ncy.findByTestId(\&quot;collection-table\&quot;).findByText(\&quot;Orders\&quot;).click();\ncy.findByLabelText(backButtonLabel).should(\&quot;not.exist\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d17f8754-ba8d-4c04-bf17-15dfacc7fd0f&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should expand the native editor when editing a question from a dashboard&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should expand the native editor when editing a question from a dashboard&quot;,&quot;duration&quot;:3502,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createDashboardWithNativeCard();\nvisitDashboard(\&quot;@dashboardId\&quot;);\ngetDashboardCard().realHover();\ngetDashboardCardMenu().click();\npopover().findByText(\&quot;Edit question\&quot;).click();\ncy.findByTestId(\&quot;native-query-editor\&quot;).should(\&quot;be.visible\&quot;);\nqueryBuilderHeader().findByLabelText(\&quot;Back to Test Dashboard\&quot;).click();\ngetDashboardCard().findByText(\&quot;Orders SQL\&quot;).click();\ncy.findByTestId(\&quot;native-query-top-bar\&quot;).findByText(\&quot;This question is written in SQL.\&quot;).should(\&quot;be.visible\&quot;);\ncy.findByTestId(\&quot;native-query-editor\&quot;).should(\&quot;not.be.visible\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af36ef5a-6733-4baf-a3f1-f657d6548b6e&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should display a back to the dashboard button in table x-ray dashboards&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should display a back to the dashboard button in table x-ray dashboards&quot;,&quot;duration&quot;:1950,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const cardTitle = \&quot;Total transactions\&quot;;\ncy.visit(`/auto/dashboard/table/${ORDERS_ID}?#show=${MAX_CARDS}`);\ncy.wait(\&quot;@dataset\&quot;, { timeout: MAX_XRAY_WAIT_TIMEOUT });\ngetDashboardCards().filter(`:contains(\&quot;${cardTitle}\&quot;)`).findByText(cardTitle).click();\ncy.wait(\&quot;@dataset\&quot;);\nqueryBuilderHeader().findByLabelText(/Back to .*Orders.*/).click();\ngetDashboardCards().filter(`:contains(\&quot;${cardTitle}\&quot;)`).should(\&quot;exist\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5c2ed03-9308-4012-9015-f081d57d691c&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should display a back to the dashboard button in model x-ray dashboards&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should display a back to the dashboard button in model x-ray dashboards&quot;,&quot;duration&quot;:1894,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const cardTitle = \&quot;Orders by Subtotal\&quot;;\ncy.request(\&quot;PUT\&quot;, `/api/card/${ORDERS_QUESTION_ID}`, { type: \&quot;model\&quot; });\ncy.visit(`/auto/dashboard/model/${ORDERS_QUESTION_ID}?#show=${MAX_CARDS}`);\ncy.wait(\&quot;@dataset\&quot;, { timeout: MAX_XRAY_WAIT_TIMEOUT });\ngetDashboardCards().filter(`:contains(\&quot;${cardTitle}\&quot;)`).findByText(cardTitle).click();\ncy.wait(\&quot;@dataset\&quot;);\nqueryBuilderHeader().findByLabelText(/Back to .*Orders.*/).click();\ngetDashboardCards().filter(`:contains(\&quot;${cardTitle}\&quot;)`).should(\&quot;exist\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d280466-4d65-4653-be75-e6cc2d57ae4a&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should preserve query results when navigating between the dashboard and the query builder&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should preserve query results when navigating between the dashboard and the query builder&quot;,&quot;duration&quot;:2787,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createDashboardWithCards();\nvisitDashboard(\&quot;@dashboardId\&quot;);\ncy.wait(\&quot;@dashboard\&quot;);\ncy.wait(\&quot;@dashcardQuery\&quot;);\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;110.93\&quot;).should(\&quot;be.visible\&quot;);\n  cy.findByText(\&quot;Orders\&quot;).click();\n  cy.wait(\&quot;@cardQuery\&quot;);\n});\nqueryBuilderHeader().findByLabelText(\&quot;Back to Test Dashboard\&quot;).click();\ngetDashboardCard(0).findByText(\&quot;110.93\&quot;).should(\&quot;be.visible\&quot;);\ngetDashboardCard(1).findByText(\&quot;Text card\&quot;).should(\&quot;be.visible\&quot;);\ngetDashboardCard(2).findByText(\&quot;Action card\&quot;).should(\&quot;be.visible\&quot;);\ncy.get(\&quot;@dashboard.all\&quot;).should(\&quot;have.length\&quot;, 1);\ncy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 1);\nappBar().findByText(\&quot;Our analytics\&quot;).click();\ncollectionTable().within(() =&gt; {\n  cy.findByText(\&quot;Test Dashboard\&quot;).click();\n  cy.wait(\&quot;@dashboard\&quot;);\n  cy.wait(\&quot;@dashcardQuery\&quot;);\n  cy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e08d36c-8163-4ddb-8fcf-9e3a2344b588&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not preserve query results when the question changes during navigation&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should not preserve query results when the question changes during navigation&quot;,&quot;duration&quot;:6169,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;visitDashboard(ORDERS_DASHBOARD_ID);\ncy.wait(\&quot;@dashboard\&quot;);\ncy.wait(\&quot;@dashcardQuery\&quot;);\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;134.91\&quot;).should(\&quot;be.visible\&quot;);\n  cy.findByText(\&quot;Orders\&quot;).click();\n  cy.wait(\&quot;@cardQuery\&quot;);\n});\nqueryBuilderHeader().within(() =&gt; {\n  cy.findByDisplayValue(\&quot;Orders\&quot;).clear().type(\&quot;Orders question\&quot;).blur();\n  cy.wait(\&quot;@updateCard\&quot;);\n  cy.button(\&quot;Summarize\&quot;).click();\n});\nrightSidebar().within(() =&gt; {\n  cy.findByText(\&quot;Total\&quot;).click();\n});\nqueryBuilderHeader().within(() =&gt; {\n  cy.findByText(\&quot;Save\&quot;).click();\n});\ncy.findByTestId(\&quot;save-question-modal\&quot;).within(() =&gt; {\n  cy.findByText(\&quot;Save\&quot;).click();\n  cy.wait(\&quot;@updateCard\&quot;);\n});\nqueryBuilderHeader().within(() =&gt; {\n  cy.findByLabelText(\&quot;Back to Orders in a dashboard\&quot;).click();\n  cy.wait(\&quot;@dashcardQuery\&quot;);\n  cy.get(\&quot;@dashboard.all\&quot;).should(\&quot;have.length\&quot;, 1);\n});\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;Orders question\&quot;).should(\&quot;be.visible\&quot;);\n  cy.findByText(\&quot;Count\&quot;).should(\&quot;be.visible\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72564eba-18ee-4458-858f-f575ae19bfc5&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should navigate back to a dashboard with permission errors&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should navigate back to a dashboard with permission errors&quot;,&quot;duration&quot;:1906,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createDashboardWithPermissionError();\ncy.signInAsNormalUser();\nvisitDashboard(\&quot;@dashboardId\&quot;);\ncy.wait(\&quot;@dashboard\&quot;);\ncy.wait(\&quot;@dashcardQuery\&quot;);\ngetDashboardCard(1).findByText(PERMISSION_ERROR);\ngetDashboardCard(0).findByText(\&quot;Orders 1\&quot;).click();\ncy.wait(\&quot;@card\&quot;);\nqueryBuilderHeader().findByLabelText(\&quot;Back to Orders in a dashboard\&quot;).click();\ngetDashboardCard(1).findByText(PERMISSION_ERROR);\ncy.get(\&quot;@dashboard.all\&quot;).should(\&quot;have.length\&quot;, 1);\ncy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 1);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47d634bd-748b-47f5-ae59-ea9e96b9f1e0&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return to dashboard with specific tab selected&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should return to dashboard with specific tab selected&quot;,&quot;duration&quot;:2853,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;visitDashboardAndCreateTab({\n  dashboardId: ORDERS_DASHBOARD_ID,\n  save: false\n});\ncy.icon(\&quot;pencil\&quot;).click();\nopenQuestionsSidebar();\nsidebar().within(() =&gt; {\n  cy.findByText(\&quot;Orders, Count\&quot;).click();\n});\nsaveDashboard();\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;Orders, Count\&quot;).click();\n  cy.wait(\&quot;@card\&quot;);\n});\nqueryBuilderHeader().findByLabelText(\&quot;Back to Orders in a dashboard\&quot;).click();\ncy.findByRole(\&quot;tab\&quot;, { selected: true }).should(\&quot;have.text\&quot;, \&quot;Tab 2\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e980b94e-ca4a-4df4-b0f6-4b6a2fdb556b&quot;,&quot;parentUUID&quot;:&quot;939aadb8-6360-4d49-89b6-46d168db50c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d17f8754-ba8d-4c04-bf17-15dfacc7fd0f&quot;,&quot;af36ef5a-6733-4baf-a3f1-f657d6548b6e&quot;,&quot;c5c2ed03-9308-4012-9015-f081d57d691c&quot;,&quot;6d280466-4d65-4653-be75-e6cc2d57ae4a&quot;,&quot;6e08d36c-8163-4ddb-8fcf-9e3a2344b588&quot;,&quot;72564eba-18ee-4458-858f-f575ae19bfc5&quot;,&quot;47d634bd-748b-47f5-ae59-ea9e96b9f1e0&quot;,&quot;e980b94e-ca4a-4df4-b0f6-4b6a2fdb556b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26128,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5fc66bf2-24bd-466c-8900-11cce6741694&quot;,&quot;title&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should preserve filter value when navigating between the dashboard and the question without re-fetch&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should preserve filter value when navigating between the dashboard and the question without re-fetch&quot;,&quot;duration&quot;:67,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;context&quot;:&quot;[\n  {\n    \&quot;title\&quot;: \&quot;Screenshot\&quot;,\n    \&quot;value\&quot;: \&quot;../../screenshots/dashboard-back-navigation.cy.spec.js/scenarios  dashboard  dashboard back navigation -- should preserve filter value when navigating between the dashboard and the question without re-fetch (failed).png\&quot;\n  },\n  {\n    \&quot;title\&quot;: \&quot;Video\&quot;,\n    \&quot;value\&quot;: \&quot;../../videos/dashboard-back-navigation.cy.spec.js.mp4\&quot;\n  }\n]&quot;,&quot;code&quot;:&quot;createDashboardWithSlowCard();\ncy.get(\&quot;@dashboardId\&quot;).then((dashboardId) =&gt; {\n  cy.visit(`/dashboard/${dashboardId}`);\n  cy.wait(\&quot;@dashboard\&quot;);\n  cy.wait(\&quot;@dashcardQuery\&quot;);\n});\ncy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 1);\nfilterWidget().findByPlaceholderText(\&quot;sleep\&quot;).clear().type(\&quot;1{enter}\&quot;);\ncy.wait(\&quot;@dashcardQuery\&quot;);\ncy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 2);\ncy.log(\&quot;drill down to the question\&quot;);\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;Sleep card\&quot;).click();\n});\nfilterWidget().findByPlaceholderText(\&quot;sleep\&quot;).should(\&quot;have.value\&quot;, \&quot;1\&quot;);\ncy.wait(\&quot;@card\&quot;);\ncy.log(\&quot;navigate back to the dashboard\&quot;);\nqueryBuilderHeader().findByLabelText(\&quot;Back to Sleep dashboard\&quot;).click();\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;Sleep card\&quot;).should(\&quot;be.visible\&quot;);\n});\nfilterWidget().findByPlaceholderText(\&quot;sleep\&quot;).should(\&quot;have.value\&quot;, \&quot;1\&quot;);\ncy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 2);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;CypressError: `cy.request()` failed on:\n\nhttp://localhost:4000/api/testing/restore/postgres-12\n\nThe response we received from your web server was:\n\n  &gt; 404: Not Found\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:4000/api/testing/restore/postgres-12\nHeaders: {\n  \&quot;Connection\&quot;: \&quot;keep-alive\&quot;,\n  \&quot;user-agent\&quot;: \&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/128.0.0.0 Safari/537.36\&quot;,\n  \&quot;accept\&quot;: \&quot;*/*\&quot;,\n  \&quot;accept-encoding\&quot;: \&quot;gzip, deflate\&quot;,\n  \&quot;content-length\&quot;: 0\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 404 - Not Found\nHeaders: {\n  \&quot;date\&quot;: \&quot;Mon, 02 Sep 2024 13:19:16 GMT\&quot;,\n  \&quot;x-frame-options\&quot;: \&quot;DENY\&quot;,\n  \&quot;x-xss-protection\&quot;: \&quot;1; mode=block\&quot;,\n  \&quot;last-modified\&quot;: \&quot;Mon, 2 Sep 2024 06:19:16 -0700\&quot;,\n  \&quot;strict-transport-security\&quot;: \&quot;max-age=31536000\&quot;,\n  \&quot;set-cookie\&quot;: [\n    \&quot;metabase.DEVICE=9abd06c3-54e6-4b1d-a89f-c45635b2837a; HttpOnly; Path=/; Expires=Fri, 2 Sep 2044 06:19:16 -0700; SameSite=Lax\&quot;\n  ],\n  \&quot;x-permitted-cross-domain-policies\&quot;: \&quot;none\&quot;,\n  \&quot;cache-control\&quot;: \&quot;max-age=0, no-cache, must-revalidate, proxy-revalidate\&quot;,\n  \&quot;x-content-type-options\&quot;: \&quot;nosniff\&quot;,\n  \&quot;content-security-policy\&quot;: \&quot;default-src &#x27;none&#x27;; script-src &#x27;self&#x27; https://maps.google.com https://accounts.google.com https://www.google-analytics.com   &#x27;sha256-9uFLu5CG8mWlvx0LK6lgendCxUX57TuWk3wkgZpBeWU=&#x27; &#x27;sha256-isH538cVBUY8IMlGYGbWtBwr+cGqkc4mN6nLcA7lUjE=&#x27; &#x27;sha256-3N2Z+Nu++/yNMVHIl863JigVmt2Nr9gt2doEMJT2Wzk=&#x27;; child-src &#x27;self&#x27; https://accounts.google.com; style-src &#x27;self&#x27;    https://accounts.google.com; font-src *; img-src * &#x27;self&#x27; data:; connect-src &#x27;self&#x27; https://accounts.google.com metabase.us10.list-manage.com https://sp.metabase.com  ; manifest-src &#x27;self&#x27;;  frame-ancestors &#x27;none&#x27;;\&quot;,\n  \&quot;content-type\&quot;: \&quot;text/plain\&quot;,\n  \&quot;expires\&quot;: \&quot;Tue, 03 Jul 2001 06:00:00 GMT\&quot;,\n  \&quot;transfer-encoding\&quot;: \&quot;chunked\&quot;,\n  \&quot;server\&quot;: \&quot;Jetty(11.0.20)\&quot;\n}\nBody: Not found.\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `scenarios &gt; dashboard &gt; das...`&quot;,&quot;estack&quot;:&quot;CypressError: `cy.request()` failed on:\n\nhttp://localhost:4000/api/testing/restore/postgres-12\n\nThe response we received from your web server was:\n\n  &gt; 404: Not Found\n\nThis was considered a failure because the status code was not `2xx` or `3xx`.\n\nIf you do not want status codes to cause failures pass the option: `failOnStatusCode: false`\n\n-----------------------------------------------------------\n\nThe request we sent was:\n\nMethod: POST\nURL: http://localhost:4000/api/testing/restore/postgres-12\nHeaders: {\n  \&quot;Connection\&quot;: \&quot;keep-alive\&quot;,\n  \&quot;user-agent\&quot;: \&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/128.0.0.0 Safari/537.36\&quot;,\n  \&quot;accept\&quot;: \&quot;*/*\&quot;,\n  \&quot;accept-encoding\&quot;: \&quot;gzip, deflate\&quot;,\n  \&quot;content-length\&quot;: 0\n}\n\n-----------------------------------------------------------\n\nThe response we got was:\n\nStatus: 404 - Not Found\nHeaders: {\n  \&quot;date\&quot;: \&quot;Mon, 02 Sep 2024 13:19:16 GMT\&quot;,\n  \&quot;x-frame-options\&quot;: \&quot;DENY\&quot;,\n  \&quot;x-xss-protection\&quot;: \&quot;1; mode=block\&quot;,\n  \&quot;last-modified\&quot;: \&quot;Mon, 2 Sep 2024 06:19:16 -0700\&quot;,\n  \&quot;strict-transport-security\&quot;: \&quot;max-age=31536000\&quot;,\n  \&quot;set-cookie\&quot;: [\n    \&quot;metabase.DEVICE=9abd06c3-54e6-4b1d-a89f-c45635b2837a; HttpOnly; Path=/; Expires=Fri, 2 Sep 2044 06:19:16 -0700; SameSite=Lax\&quot;\n  ],\n  \&quot;x-permitted-cross-domain-policies\&quot;: \&quot;none\&quot;,\n  \&quot;cache-control\&quot;: \&quot;max-age=0, no-cache, must-revalidate, proxy-revalidate\&quot;,\n  \&quot;x-content-type-options\&quot;: \&quot;nosniff\&quot;,\n  \&quot;content-security-policy\&quot;: \&quot;default-src &#x27;none&#x27;; script-src &#x27;self&#x27; https://maps.google.com https://accounts.google.com https://www.google-analytics.com   &#x27;sha256-9uFLu5CG8mWlvx0LK6lgendCxUX57TuWk3wkgZpBeWU=&#x27; &#x27;sha256-isH538cVBUY8IMlGYGbWtBwr+cGqkc4mN6nLcA7lUjE=&#x27; &#x27;sha256-3N2Z+Nu++/yNMVHIl863JigVmt2Nr9gt2doEMJT2Wzk=&#x27;; child-src &#x27;self&#x27; https://accounts.google.com; style-src &#x27;self&#x27;    https://accounts.google.com; font-src *; img-src * &#x27;self&#x27; data:; connect-src &#x27;self&#x27; https://accounts.google.com metabase.us10.list-manage.com https://sp.metabase.com  ; manifest-src &#x27;self&#x27;;  frame-ancestors &#x27;none&#x27;;\&quot;,\n  \&quot;content-type\&quot;: \&quot;text/plain\&quot;,\n  \&quot;expires\&quot;: \&quot;Tue, 03 Jul 2001 06:00:00 GMT\&quot;,\n  \&quot;transfer-encoding\&quot;: \&quot;chunked\&quot;,\n  \&quot;server\&quot;: \&quot;Jetty(11.0.20)\&quot;\n}\nBody: Not found.\n\n\nhttps://on.cypress.io/request\n\nBecause this error occurred during a `before each` hook we are skipping the remaining tests in the current suite: `scenarios &gt; dashboard &gt; das...`\n    at &lt;unknown&gt; (http://localhost:4000/__cypress/runner/cypress_runner.js:133550:72)\n    at tryCatcher (http://localhost:4000/__cypress/runner/cypress_runner.js:1807:23)\n    at Promise._settlePromiseFromHandler (http://localhost:4000/__cypress/runner/cypress_runner.js:1519:31)\n    at Promise._settlePromise (http://localhost:4000/__cypress/runner/cypress_runner.js:1576:18)\n    at Promise._settlePromise0 (http://localhost:4000/__cypress/runner/cypress_runner.js:1621:10)\n    at Promise._settlePromises (http://localhost:4000/__cypress/runner/cypress_runner.js:1701:18)\n    at _drainQueueStep (http://localhost:4000/__cypress/runner/cypress_runner.js:2407:12)\n    at _drainQueue (http://localhost:4000/__cypress/runner/cypress_runner.js:2400:9)\n    at Async._drainQueues (http://localhost:4000/__cypress/runner/cypress_runner.js:2416:5)\n    at Async.drainQueues (http://localhost:4000/__cypress/runner/cypress_runner.js:2286:14)\nFrom Your Spec Code:\n    at restore (../../../../../../../../../../../../p/metabase/e2e/support/helpers/e2e-setup-helpers.js:25:5)\n    at Context.eval (../../../../../../../../../../../../p/metabase/e2e/test/scenarios/dashboard/dashboard-back-navigation.cy.spec.js:268:6)&quot;},&quot;uuid&quot;:&quot;21bd82f1-d0d5-4adb-9306-6294452d6305&quot;,&quot;parentUUID&quot;:&quot;5fc66bf2-24bd-466c-8900-11cce6741694&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should restore a dashboard with loading cards and re-fetch query data&quot;,&quot;fullTitle&quot;:&quot;scenarios &gt; dashboard &gt; dashboard back navigation should restore a dashboard with loading cards and re-fetch query data&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;skipped&quot;,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;createDashboardWithSlowCard();\ncy.get(\&quot;@dashboardId\&quot;).then((dashboardId) =&gt; {\n  cy.visit({\n    url: `/dashboard/${dashboardId}`,\n    qs: { sleep: 60 }\n  });\n});\ncy.wait(\&quot;@dashboard\&quot;);\ngetDashboardCard().within(() =&gt; {\n  cy.findByTestId(\&quot;loading-indicator\&quot;).should(\&quot;be.visible\&quot;);\n  cy.findByText(\&quot;Sleep card\&quot;).click();\n  cy.wait(\&quot;@card\&quot;);\n});\nqueryBuilderHeader().within(() =&gt; {\n  cy.findByLabelText(\&quot;Back to Sleep dashboard\&quot;).click();\n});\ngetDashboardCard().within(() =&gt; {\n  cy.findByText(\&quot;Sleep card\&quot;).should(\&quot;be.visible\&quot;);\n});\ncy.get(\&quot;@dashboard.all\&quot;).should(\&quot;have.length\&quot;, 1);\ncy.get(\&quot;@dashcardQuery.all\&quot;).should(\&quot;have.length\&quot;, 2);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc063a2a-8e03-40a7-85f9-609f92fd8192&quot;,&quot;parentUUID&quot;:&quot;5fc66bf2-24bd-466c-8900-11cce6741694&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;21bd82f1-d0d5-4adb-9306-6294452d6305&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;cc063a2a-8e03-40a7-85f9-609f92fd8192&quot;],&quot;duration&quot;:67,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.0.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;[status]-[name]&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportDir&quot;:&quot;cypress/reports/mochareports&quot;,&quot;reportFilename&quot;:&quot;[status]-[name]&quot;,&quot;quiet&quot;:true,&quot;html&quot;:true,&quot;json&quot;:true},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;[status]-[name]&quot;,&quot;reportDir&quot;:&quot;cypress/reports/mochareports&quot;,&quot;reportTitle&quot;:&quot;metabase&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;cypress/reports/mochareports/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/uladzimirhavenchyk/p/metabase/cypress/reports/mochareports/fail-dashboard-back-navigation.json&quot;,&quot;htmlFile&quot;:&quot;/Users/uladzimirhavenchyk/p/metabase/cypress/reports/mochareports/fail-dashboard-back-navigation.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>